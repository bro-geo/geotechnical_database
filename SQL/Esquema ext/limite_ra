-- Table: ext.limite_ra

-- DROP TABLE ext.limite_ra;

CREATE TABLE ext.limite_ra
(
    ra_pk integer NOT NULL DEFAULT nextval('ext.limite_ra_ra_pk_seq'::regclass),
    ra_nome character varying(50) COLLATE pg_catalog."default" NOT NULL,
    ra_num integer NOT NULL,
    ra_codigo character varying(11) COLLATE pg_catalog."default" NOT NULL,
    ra_lei_criacao character varying(50) COLLATE pg_catalog."default",
    ra_lei_limite character varying(50) COLLATE pg_catalog."default",
    ra_area real,
    ra_perimetro real,
    geom geometry(MultiPolygon,31983),
    user_edit character varying(50) COLLATE pg_catalog."default",
    date_edit timestamp without time zone,
    CONSTRAINT pk_limite_ra PRIMARY KEY (ra_pk),
    CONSTRAINT limite_ra_unique UNIQUE (ra_nome, ra_num, ra_codigo),
    CONSTRAINT ra_codigo_unique UNIQUE (ra_codigo),
    CONSTRAINT ra_num_unique UNIQUE (ra_num),
    CONSTRAINT limite_ra_check_st_srid CHECK (st_srid(geom) = 31983),
    CONSTRAINT limite_ra_check_st_ndims CHECK (st_ndims(geom) = 2),
    CONSTRAINT limite_ra_check_geometrytype CHECK (geometrytype(geom) = 'MULTIPOLYGON'::text OR geom IS NULL),
    CONSTRAINT limite_ra_check_st_issimple CHECK (st_issimple(geom) = true),
    CONSTRAINT limite_ra_check_st_isvalid CHECK (st_isvalid(geom) = true),
    CONSTRAINT srid_limite_ra CHECK (st_srid(geom) = 31983),
    CONSTRAINT ndims_limite_ra CHECK (st_ndims(geom) = 2),
    CONSTRAINT geomtype_limite_ra CHECK (geometrytype(geom) = 'MULTIPOLYGON'::text OR geom IS NULL),
    CONSTRAINT simple_limite_ra CHECK (st_issimple(geom) = true),
    CONSTRAINT valid_limite_ra CHECK (st_isvalid(geom) = true)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE ext.limite_ra
    OWNER to ext;

GRANT SELECT ON TABLE ext.limite_ra TO consulta;
GRANT ALL ON TABLE ext.limite_ra TO sde;
GRANT ALL ON TABLE ext.limite_ra TO ext;

-- Index: sidx_limite_ra_geom

-- DROP INDEX ext.sidx_limite_ra_geom;

CREATE INDEX sidx_limite_ra_geom
    ON ext.limite_ra USING gist
    (geom)
    TABLESPACE pg_default;
